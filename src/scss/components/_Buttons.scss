//
//--------------------------------------------------------------------------
// Buttons - Luma
//--------------------------------------------------------------------------
//

@keyframes spinAround {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(359deg);
  }
}

.button {
  // Default Style
  @include btn($color-button, $color-button-bg);

  -moz-osx-font-smoothing: grayscale;
  align-items: center;
  border: 0;
  border-radius: .3rem;
  cursor: pointer;
  display: inline-flex;
  font-size: 1.5rem;
  font-weight: 300;
  height: 3.5rem;
  justify-content: center;
  letter-spacing: .05rem;
  padding: 0 15px;
  transition: background-color 150ms;
  user-select: none;
  vertical-align: middle;
  white-space: nowrap;

  &.is-primary {
    @include btn($color-primary-inverted, $color-primary);

    &:disabled,
    &.is-disabled {
      background-color: lighten($color-primary, 20%);
    }
  }

  &.is-info {
    @include btn(#fff, $color-info);

    &:disabled,
    &.is-disabled {
      background-color: lighten($color-info, 20%);
    }
  }

  &.is-success {
    @include btn(#fff, $color-success);

    &:disabled,
    &.is-disabled {
      background-color: lighten($color-success, 20%);
    }
  }

  &.is-warning {
    @include btn($color-dark, $color-warning);

    &:disabled,
    &.is-disabled {
      background-color: lighten($color-warning, 20%);
    }
  }

  &.is-danger {
    @include btn(#fff, $color-danger);

    &:disabled,
    &.is-disabled {
      background-color: lighten($color-danger, 20%);
    }
  }

  &:disabled,
  &.is-disabled {
    cursor: not-allowed;
    pointer-events: none;
  }

  &.is-outline {
    background: none;
    border: 1px solid $color-button-outline-border;
    box-shadow: none;
    color: $color-button-outline;
    overflow: hidden;
    transition: all .3s;
    z-index: 1;

    &:hover,
    &:active {
      border-color: lighten($color-dark, 30%);
      color: $color-dark;
    }

    &.is-light {
      border: 1px solid $color-light;
      color: $color-light;

      &:hover,
      &:active {
        border-color: darken($color-light, 20%);
        color: darken($color-light, 20%);
      }
    }

    &.is-primary {
      @include btn-outline($color-primary, $color-primary, #fff, $color-primary);
    }

    &.is-info {
      @include btn-outline($color-info, $color-info, #fff, $color-info);
    }

    &.is-danger {
      @include btn-outline($color-danger, $color-danger, #fff, $color-danger);
    }

    &.is-success {
      @include btn-outline($color-success, $color-success, #fff, $color-success);
    }
  }

  i {

    &.rotate-90 {
      &::before {
        transform: rotate(90deg);
      }
    }

    &::before {
      font-size: 1.7rem;
    }
  }

  span + .icon,
  .icon + span {
    margin-left: .75rem;
  }

  &.is-animated {
    padding-right: 30px;
    position: relative;

    &:hover {
      i {
        right: 8%;
      }
    }

    i {
      position: absolute;
      right: 12%;
      top: 10%;
      transition: right 150ms ease-out;
    }
  }

  &.is-narrow {
    font-size: 1.2rem;
    height: 3rem;
    padding: 0 1rem;
  }

  &.is-loading {
    pointer-events: none;

    &::before {
      -webkit-animation: spinAround 500ms infinite linear;
      animation: spinAround 500ms infinite linear;
      border: 2px solid #fff;
      border-radius: 100%;
      border-right-color: transparent;
      border-top-color: transparent;
      content: '';
      display: inline-block;
      height: 13px;
      margin-bottom: 1px;
      margin-right: 10px;
      vertical-align: middle;
      width: 13px;
    }

    &.is-empty {
      color: transparent;
      position: relative;

      &::before {
        left: calc(50% - 13px/2);
        margin-right: 0;
        position: absolute;
        right: calc(50% - 13px/2);
      }
    }
  }

  &:focus,
  &:active {
    outline: none;
  }

}

.button-group {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-start;

  > .button {
    flex-shrink: 0;
    justify-content: flex-start;
    margin: 0 5px 5px 0;

    &:last-child {
      margin-right: 0;
    }
  }

  &.is-right {
    justify-content: flex-end;
  }
}
